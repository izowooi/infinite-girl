# 📄 무한 소녀 (Infinite Girl) --- 기획 및 기술 설계 대화 기록

작성일: 2026-02-22

------------------------------------------------------------------------

# 1. 게임 아이디어 설명 (사용자 제안)

## 게임명

**무한 소녀**

------------------------------------------------------------------------

## 핵심 컨셉

-   기존 단어 합성 게임을 (https://neal.fun/infinite-craft/) 기반으로 한 클론 게임
-   단어 + 단어가 아니라:

단어 + 이미지 → 새로운 이미지 생성

------------------------------------------------------------------------

## 기존 게임과 차이점

기존 게임 구조: - 단어 두 개를 합성 - 새로운 단어 생성

무한 소녀 구조: - 단어에 해당하는 이미지와 단어를 합성 - 새로운 소녀
이미지 생성

------------------------------------------------------------------------

## 조합 구조

-   단어는 자연 원소 중심 ( 캡틴 플래닛(출동 지구특공대), 동양의 음양 오행설, ))
    -   불
    -   물
    -   대지
    -   나무
    -   마음
    -   빛
    -   바람
    -   금속
    -   음
    -   양

하지만 결과는 항상:

해당 개념을 상징하는 "소녀"

예시: - 불 → 불을 상징하는 소녀 - 땅 → 땅을 상징하는 소녀 - 물 → 물을
상징하는 소녀

------------------------------------------------------------------------

## 게임 목표

-   소녀를 무한히 생성하는 것
-   새로운 컨셉 소녀 발견
-   무한 조합 구조

------------------------------------------------------------------------

## 타겟 유저

-   성인 남성 중심 타겟
-   캐릭터 수집 성향
-   이미지 기반 콘텐츠 선호

------------------------------------------------------------------------

## 생성형 이미지 시스템

### 특징

-   1024×1024 이미지 매우 빠르게 생성
-   생성형 이미지 UI 사용
-   생성 속도 중심 설계

------------------------------------------------------------------------

## 저장 파일 요구사항

이미지 생성 시 반드시 2개 파일 존재해야 함:

1.  썸네일 이미지 (UI용)
2.  1024×1024 원본 이미지

두 파일이 모두 있어야 저장 완료.

------------------------------------------------------------------------

# 2. 게임 기획서 정리

## 게임 개요

-   장르: 생성형 이미지 조합 게임
-   핵심 루프:
    1.  요소 선택
    2.  합성
    3.  소녀 생성
    4.  컬렉션 저장
    5.  반복

------------------------------------------------------------------------

## 핵심 시스템

### 이미지 합성

-   모든 결과는 소녀 형태
-   결과는 다시 조합 재료 사용 가능

### 무한 생성 구조

-   엔딩 없음
-   탐험 중심 플레이

------------------------------------------------------------------------

## UX 방향성

-   빠른 생성
-   직관적 UI
-   반복 플레이 유도
-   컬렉션 중심

------------------------------------------------------------------------

## 기술 요구사항

-   고속 이미지 생성
-   이미지 저장 시스템
-   무한 조합 데이터 구조

------------------------------------------------------------------------

# 3. 데이터베이스 설계 논의

## 사용자 요구사항

-   데이터 100만개 이상 처리
-   A 속성 + B 속성 → C 결과
-   매우 빠른 조회 필요
-   RDB vs NoSQL 선택 고민

------------------------------------------------------------------------

# 4. 데이터베이스 구조 결정

## 결론

RDB(PostgreSQL) + 캐시 + 스토리지 구조가 가장 적합.

------------------------------------------------------------------------

## RDB 선택 이유

게임 핵심 로직:

A + B → 결과

이는 SQL의 복합 인덱스 조회 구조와 매우 잘 맞음.

------------------------------------------------------------------------

## 예상 성능

-   100만 조합: 1\~5ms
-   1000만 조합: 5\~15ms
-   캐시 사용 시 거의 즉시 응답

------------------------------------------------------------------------

# 5. 추천 데이터베이스 모델

## elements 테이블

  column          type
  --------------- -----------
  id              bigint
  name            text
  description     text
  image_url       text
  thumbnail_url   text
  created_at      timestamp

------------------------------------------------------------------------

## combinations 테이블

  column              type
  ------------------- -----------
  id                  bigint
  element_a\_id       bigint
  element_b\_id       bigint
  result_element_id   bigint
  created_at          timestamp

------------------------------------------------------------------------

## 핵심 설계 규칙

(A,B) == (B,A)

항상 정렬해서 저장 (element_a\_id \< element_b\_id)

------------------------------------------------------------------------

# 6. 성능 최적화 전략

## Redis 캐시

key: "A:B" → result_id

조회 흐름: Redis → 없으면 DB → Redis 저장

------------------------------------------------------------------------

## 생성 파이프라인

조합 요청 → 생성 큐 → 이미지 생성 → DB 저장

------------------------------------------------------------------------

## 생성 상태 관리

-   pending
-   generating
-   done
-   failed

------------------------------------------------------------------------

# 7. 최종 추천 아키텍처

Client → API Server → Redis → PostgreSQL → Object Storage

------------------------------------------------------------------------

# 8. 기술 스택

Supabase DB

# 끝
